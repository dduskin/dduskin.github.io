<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1.0">
<meta name="viewport" content="width=device-width">
<title>Modeling and Analysis</title>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<!-- jQuery library -->
<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="crossorigin="anonymous"></script>
<!-- Latest compiled JavaScript -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<link rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
  <!-- Load Leaflet from CDN -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==" crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js" integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA==" crossorigin=""></script>


  <!-- Load Esri Leaflet from CDN -->
  <script src="https://unpkg.com/esri-leaflet@2.2.3/dist/esri-leaflet.js" integrity="sha512-YZ6b5bXRVwipfqul5krehD9qlbJzc6KOGXYsDjU9HHXW2gK57xmWl2gU6nAegiErAqFXhygKIsWPKbjLPXVb2g==" crossorigin=""></script>
<style>

body, html
{
  background-color:#2c5283;
}
*{
  margin: 0;
  padding: 0;
}
td{text-align:center;}
@import url('https://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i');

    #map {
      top: 0;
      bottom: 0;
      right: 0;
      left: 0;
      width:100%;
      height:95%;

    }
    
    #button_container {
      position: absolute;
      bottom: 0;
      left: 0;
      z-index: 650;
      background-color:white;
      font-size:4px;
    }
    
    .exp_anal {
    font-size: 9px;
    text-transform: uppercase;
    color: #fff;
    font-weight: 800;
    letter-spacing: 2px;
    background: #2c5283;
    font-family:'Raleway', sans-serif;
    border-style:solid;
    border-width:thin;
    border-color:#2c5283;
        }
    .exp_anal:hover{color:red;}
    #btn2 {}
    #analyses{position:absolute;z-index:750;width:auto;bottom:top%;right:10%;padding:0.5%;border-radius:5px;opacity:.85;background-color:lightgray;box-shadow: 0 0 15px rgba(0,0,0,1);display:inline;font-size:0.75em;}
.table_center{
  display:table-cell;
  vertical-align: right;
  float:right;
  margin-right:5%;
  margin-top:0.5%;
  z-index:650;
 box-shadow: 0 0 25px rgba(0,0,0,1);
}
.drop-down{
    display: inline-block;
    position: relative;
   z-index:700;
}

.drop-down__button{
  background: #2c5283;
  display: inline-block;
  line-height: 40px;
  padding: 0 18px;
  text-align: left;
  border-radius: 4px;
  box-shadow: 0px 4px 6px 0px rgba(0,0,0,0.2);
  cursor: pointer;
}

.drop-down__name {
    font-size: 9px;
    text-transform: uppercase;
    color: #fff;
    font-weight: 800;
    letter-spacing: 2px;

}

.drop-down__icon {
    width: 18px;
    vertical-align: middle;
    margin-left: 14px;
    height: 18px;
    border-radius: 50%;
    transition: all 0.4s;
  -webkit-transition: all 0.4s;
  -moz-transition: all 0.4s;
  -ms-transition: all 0.4s;
  -o-transition: all 0.4s;

}



.drop-down__menu-box {
    position: absolute;
    width: 100%;
    left: 0;
    background-color: #fff;
    border-radius: 4px;
  box-shadow: 0px 3px 6px 0px rgba(0,0,0,0.2);
     transition: all 0.3s;
  -webkit-transition: all 0.3s;
  -moz-transition: all 0.3s;
  -ms-transition: all 0.3s;
  -o-transition: all 0.3s;
 visibility: hidden;
opacity: 0;
  margin-top: 5px;
   z-index:700;  
}

.drop-down__menu {
    margin: 0;
    padding: 0 13px;
    list-style: none;

}
.drop-down__menu-box:before{
  content:'';
  background-color: transparent;
  border-right: 8px solid transparent;
  position: absolute;
  border-left: 8px solid transparent;
  border-bottom: 8px solid #fff;
  border-top: 8px solid transparent;
  top: -15px;
  right: 18px;

}

.drop-down__menu-box:after{
  content:'';
  background-color: transparent;
}

.drop-down__item {
    font-size: 13px;
    padding: 13px 0;
    text-align: left;
    font-weight: 500;
    color: #2c5283;
    cursor: pointer;
    position: relative;
    border-bottom: 1px solid #e0e2e9;
}

.drop-down__item-icon {
    width: 15px;
    height: 15px;
    position: absolute;
    right: 0px;
    fill: #2c5283;

}

.drop-down__item:hover .drop-down__item-icon{
  fill: #2c5283
}

.drop-down__item:hover{
  color: #2c5283;
}



.drop-down__item:last-of-type{
  border-bottom: 0;
}


.drop-down--active .drop-down__menu-box{
visibility: visible;
opacity: 1;
  margin-top: 15px;
}

.drop-down__item:before{
  content:'';
  position: absolute;
width: 3px;
height: 28px;
background-color: #2c5283;
left: -13px;
top: 50%;
transform: translateY(-50%);
  display:none;
}

.drop-down__item:hover:before{
  display:block;
}
.title{color:white;font-size:3em;padding:0.5%;margin-left:2.5%;font-family:impact;letter-spacing:0.15em;}
.cntyClass {
	background: transparent;
	border: transparent;
	text-shadow: -1.5px 0 black, 0 1.5px black,  1.5px 0 black, 0 -1.5px black;
	color: white;
	font-size: 1em;
	white-space: nowrap;
	box-shadow: 0 1px 1px rgba(0,0,0,0.0);
}


</style>
</head>

<body>
  <link rel="stylesheet" href="https://leaflet.github.io/Leaflet.markercluster/dist/MarkerCluster.css" />
  <link rel="stylesheet" href="https://leaflet.github.io/Leaflet.markercluster/dist/MarkerCluster.Default.css" />
  <script src="https://leaflet.github.io/Leaflet.markercluster/dist/leaflet.markercluster-src.js"></script>
  <div class="col-sm-12 col-md-12 col-lg-12" align="left"><span class="title">FEMA Region 6 | Exposure</span>

  <div class="table_center" style="font-family:'Raleway', sans-serif;">
       <button type="button" class="btn-md drop-down__button drop-down exp_anal" data-toggle="modal" data-target="#myModal">Exposure Num</button>
         <div class="drop-down">
           <div id="dropDown" class="drop-down__button">
             <span class="drop-down__name">Modeling and Analysis</span>
           </div>
           <div class="drop-down__menu-box">
             <ul class="drop-down__menu">
               <a href="https://dduskin.github.io/cfla.html"><li data-name="cfla_" class="drop-down__item">Coastal Flood Loss Atlas (CFLA) </li></a>
               <a href="https://dduskin.github.io/surge_riverine.html"><li data-name="surge_riverine_" class="drop-down__item">Surge and Riverine Modeled Impacts </li></a>
               <a href="https://dduskin.github.io/expose.html"><li data-name="wind_" class="drop-down__item">Exposure Analysis </li></a>
             </ul>
           </div>
         </div>

  </div>

  </div>
<div id="col-md-10" style="-webkit-animation: bounceInLeft 1s;width:95%;height:90vh;border-radius:10px;box-shadow: 0 0 25px rgba(0,0,0,1);margin-left:2.55%;margin-top:1%;">
  <div id="map">
    <div id="button_container">
      <div>
      <button id="btnaddAll">add<br>all Layers</button>
      <button id="btnremoveAll">remove<br>all Layers</button> 
      </div>
      <div>    
      <button id="btn1">add
        <br>firestations</button>
      <button id="btn2">remove
        <br>firestations</button>
      </div>
      <div>          
      <button id="btn3">add
        <br>policetations</button>
      <button id="btn4">remove
        <br>policestations</button>
      </div>
      <div>            
      <button id="btn5">add
        <br>airports</button>
      <button id="btn6">remove
        <br>airports</button>
      </div>
      <div>            
      <button id="btn7">add
        <br>cell service</button>
      <button id="btn8">remove
        <br>cell service</button>
      </div>
      <div>            
      <button id="btn9">add
        <br>Antenna Structure Registrate</button>
      <button id="btn10">remove
        <br>Antenna Structure Registrate</button>
      </div>
      <div>            
      <button id="btn11">add
        <br>psap 911</button>
      <button id="btn12">remove
        <br>psap 911</button>
      </div>
      <div>            
      <button id="btn13">add
        <br>railroads</button>
      <button id="btn14">remove
        <br>railroads</button>
      </div>
      <div>            
      <button id="btn15">add
        <br>railstations</button>
      <button id="btn16">remove
        <br>railstations</button>
      </div>
      <div>            
      <button id="btn17">add
        <br>nbi</button>
      <button id="btn18">remove
        <br>nbi</button>
      </div>
      <div>            
      <button id="btn19">add
        <br>electric holding company areas</button>
      <button id="btn20">remove
        <br>electric holding company areas</button>
      </div>
      <div>            
      <button id="btn21">add
        <br>cellular towers</button>
      <button id="btn22">remove
        <br>cellular towers</button>
      </div>
      <div>            
      <button id="btn23">add
        <br>Waste Water Treatment Plant</button>
      <button id="btn24">remove
        <br>Waste Water Treatment Plant</button>
      </div>
      <div>            
      <button id="btn25">add
        <br>Traffic</button>
      <button id="btn26">remove
        <br>Traffic</button>   
      </div>
      <div>                 
      <button id="btn27">add
        <br>Ports</button>
      <button id="btn28">remove
        <br>Ports</button>  
      </div>
      <div>            
      <button id="btn29">add
        <br>Walmarts</button>
      <button id="btn30">remove
        <br>Walmarts</button> 
      </div>
      <div>            
      <button id="btn31">add
        <br>Hospitals</button>
      <button id="btn32">remove
        <br>Hospitals</button> 
      </div>
      <div>                
      <button id="btn33">add
        <br>Veterans Health Administration<br>Medical Facilities</button>
      <button id="btn34">remove
        <br>Veterans Health Administration<br>Medical Facilities</button>
      </div>
      <div>            
      <button id="btn35">add
        <br>Generating Units</button>
      <button id="btn36">remove
        <br>Generating Units</button> 
      </div>
      <div>              
      <button id="btn37">add
        <br>Local EOC</button>
      <button id="btn38">remove
        <br>Local EOC</button>
      </div>
      <div>            
      <button id="btn39">add
        <br>Hurricane Evac Routes</button>
      <button id="btn40">remove
        <br>Hurricane Evac Routes</button> 
      </div>
      <div>            
      <button id="btn41">add
        <br>TV Broadcast Contours</button>
      <button id="btn42">remove
        <br>TV Broadcast Contours</button> 
      </div>
      <div>               
      <button id="btn43">add
        <br>FM Transmission Tower</button>
      <button id="btn44">remove
        <br>FM Transmission Tower</button>
      </div>
      <div>
      <button id="btn45">add
        <br>AM Transmission Tower</button>
      <button id="btn46">remove
        <br>AM Transmission Tower</button>
      </div>
      <div>            
      <button id="btn47">add
        <br>Paging Transmission Tower</button>
      <button id="btn48">remove
        <br>Paging Transmission Tower</button>
      </div>
      <div>        
      <button id="btn49">add
        <br>Land Mobile Private<br>Transmission Tower</button>
      <button id="btn50">remove
        <br>Land Mobile Private<br>Transmission Tower</button>
      </div>
      <div>            
      <button id="btn51">add
        <br>Land Mobile<br> Broadcast Towers</button>
      <button id="btn52">remove
        <br>Land Mobile<br> Broadcast Towers</button>
      </div>
      <div>          
      <button id="btn53">add
        <br>Land Mobile<br>Commercial Transmission Towers</button>
      <button id="btn54">remove
        <br>Land Mobile<br>Commercial Transmission Towers</button>
      </div>
      <div>          
      <button id="btn55">add
        <br>Microwave <br>Service Towers</button>
      <button id="btn56">remove
        <br>Microwave <br>Service Towers</button>
      </div>
      <div>          
      <button id="btn57">add
        <br>Public Schools</button>
      <button id="btn58">remove
        <br>Public Schools</button>
      </div>
      <div>          
      <button id="btn59">add
        <br>Private Schools</button>
      <button id="btn60">remove
        <br>Private Schools</button>
      </div>
      <div>           
     <button id="btn61">add
        <br>Daycare Centers</button>
      <button id="btn62">remove
        <br>Daycare Centers</button>
      </div>
      <div>        
     <button id="btn63">add
        <br>College and Universities</button>
      <button id="btn64">remove
        <br>College and Universities</button>
      </div>
      <div>           
     <button id="btn65">add
        <br>Pharmacies</button>
      <button id="btn66">remove
        <br>Pharmacies</button>
      </div>
      <div>          
     <button id="btn67">add
        <br>Nursing Homes</button>
      <button id="btn68">remove
        <br>Nursing Homes</button>
      </div>
      <div>          
     <button id="btn69">add
        <br>Urgent Care<br> Facilities</button>
      <button id="btn70">remove
        <br>Urgent Care<br> Facilities</button>
      </div>
      <div>          
     <button id="btn71">add
        <br>Power Plants</button>
      <button id="btn72">remove
        <br>Power Plants</button>
      </div>
      <div>          
     <button id="btn73">add
        <br>Natural Gas<br>Liquid Pipelines</button>
      <button id="btn74">remove
        <br>Natural Gas<br>Liquid Pipelines</button>
      </div>
      <div>             
     <button id="btn75">add
        <br>Electric Power<br>Transmission Lines</button>
      <button id="btn76">remove
        <br>Electric Power<br>Transmission Lines</button>
      </div>
      <div>           
     <button id="btn77">add
        <br>Arkansas Counties</button>
      <button id="btn78">remove
        <br>Arkansas Counties</button>
      </div>
      <div>          
     <button id="btn79">add
        <br>Louisiana Parishes</button>
      <button id="btn80">remove
        <br>Louisiana Parishes</button>
      </div>
      <div>          
     <button id="btn81">add
        <br>New Mexico Counties</button>
      <button id="btn82">remove
        <br>New Mexico Counties</button>
      </div>
      <div>          
     <button id="btn83">add
        <br>Oklahoma Counties</button>
      <button id="btn84">remove
        <br>Oklahoma Counties</button>
      </div>
      <div>           
     <button id="btn85">add
        <br>Texas Counties</button>
      <button id="btn86">remove
        <br>Texas Counties</button> 
      </div>         
       
    </div>

    </div>




  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content modal-lg">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Critical Intrastructure (CIKR)</h4>
        </div>
        <div class="modal-body">
            <table class="table-bordered table-responsive">
              <thead>
                <tr>
                  <th>Firestations</th>
                  <th>Policestations</th>
                  <th>Airports</th>
                  <th>Antennas</th> 
                  <th>Rail Stations</th>
                  <th>Bridges</th>                                                                          
                </tr>
              </thead>   
              <tbody>
                <tr>
                  <td id="fire_id">0</td>
                  <td id="police_id">0</td>
                  <td id="airports_id">0</td>
                  <td id="antenna_id">0</td>
                  <td id="railstation_id">0</td>
                  <td id="nbi_id">0</td>                  
                </tr>
              </tbody>  
              <thead>                                
                <tr>
                  <th>Wastewater Plant</th>
                  <th>Walmarts</th>
                  <th>Ports</th>
                  <th>Hospitals</th> 
                  <th>VHA Facilities</th>
                  <th>Generating Units</th>                                                                          
                </tr>
              </thead>   
              <tbody>                           
                <tr>
                  <td id="wastewaterplant_id">0</td>
                  <td id="walmart_id">0</td>
                  <td id="port_id">0</td>
                  <td id="hospitals_id">0</td>
                  <td id="vha_id">0</td>
                  <td id="genunit_id">0</td>                  
                </tr>
              </tbody>
              <thead>                                
                <tr>
                  <th>Local EOCs</th>
                  <th>FM Towers</th>
                  <th>AM Towers</th>
                  <th>Paging Towers</th> 
                  <th>Land Mobile Private Towers</th>
                  <th>Land Commerical Towers</th>                                                                          
                </tr>
              </thead>   
              <tbody>                           
                <tr>
                  <td id="loceoc_id">0</td>
                  <td id="fmtower_id">0</td>
                  <td id="amtower_id">0</td>
                  <td id="pagingtower_id">0</td>
                  <td id="landprivtower_id">0</td>
                  <td id="landcom_id">0</td>                  
                </tr>
              </tbody> 
              <thead>                                
                <tr>
                  <th>Public Schools</th>
                  <th>Daycares</th>
                  <th>Colleges</th>
                  <th>Microwave Towers</th> 
                  <th>Pharmacies</th>
                  <th>Cell Towers</th>                                                                          
                </tr>
              </thead>   
              <tbody>                           
                <tr>
                  <td id="publicshools_id">0</td>
                  <td id="daycare_id">0</td>
                  <td id="college_id">0</td>
                  <td id="microwave_id">0</td>
                  <td id="pharm_id">0</td>
                  <td id="celltower_id">0</td>                  
                </tr>
              </tbody>
              <thead>                                
                <tr>
                  <th>Nursing Homes</th>
                  <th>Urgent Cares</th>
                  <th>Power Plants</th>
<!--                   <th>Arkansas Counties</th>  -->
                  <th>Rail Road length</th>
                  <th>Cell Towers</th>                                                                          
                </tr>
              </thead>   
              <tbody>                           
                <tr>
                  <td id="nursing_id">0</td>
                  <td id="urgent_id">0</td>
                  <td id="powerplants_id">0</td>
<!--                   <td id="arcnty_id">0</td> -->
                  <td id="railroad_id">0</td>
                  <td id="celltower_id">0</td>                  
                </tr>
              </tbody>  
              <thead>                                
                <tr>
                  <th>Arkansas Counties</th>
                  <th>Louisiana Parishes</th>
                  <th>New Mexico Counties</th>
                  <th>Oklahoma Counties</th> 
                  <th>Texas Counties</th>
<!--                   <th>xxxxxx</th>     -->                                                                      
                </tr>
              </thead>   
              <tbody>                           
                <tr>
                  <td id="arcnty_id">0</td>
                  <td id="laparish_id">0</td>
                  <td id="nmcnty_id">0</td>
                  <td id="okcnty_id">0</td>
                  <td id="txcnty_id">0</td>
<!--                   <td id="celltower_id">0</td> -->                  
                </tr>
              </tbody>                                                                            
            </table>


<!--             <div style="display:inline-block;">                        
            <p style="display:inline-block;"><b>Railline</b></p>
            <p style="display:inline-block;" id="railroad_id">0</p>   -->                                                                                                                                                                                                                                                                                              
            </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
      
    </div>
  </div>
</div>        

  <script>
    "use strict";

    var map = L.map("map",{zoomControl:false}).setView([32.5252, -95.6284], 5);
    var topo = L.esri.basemapLayer("Topographic").addTo(map);

    var aoiUrl = "https://services.arcgis.com/XG15cJAlne2vxtgt/arcgis/rest/services/R6_aoi_draw/FeatureServer/0";
    // Transportation Lifeline
    var airportsUrl = "https://services6.arcgis.com/ssFJjBXIUyZDrSYZ/arcgis/rest/services/US_Airport/FeatureServer/0";
    var nbiUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/National_Bridge_Inventory_(NBI)_Bridges/FeatureServer/0";     
    var portUrl = "https://maps.bts.dot.gov/services/rest/services/NTAD/Ports/MapServer/0";
    var railroadUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Railroads/FeatureServer/0";
    var railstationUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Routes_and_Stations/FeatureServer/0";
    var trafficUrl = "https://traffic.arcgis.com/arcgis/rest/services/World/Traffic/MapServer/1";
    // Communications Lifeline
    var antennaUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Antenna_Structure_Registrate/FeatureServer/0";    
    var cellserviceUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Cellular_Service_Areas/FeatureServer/0";
    var celltowerUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Cellular_Towers/FeatureServer/0";
    var tvbroadcastUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/TV_Broadcast_Contours/FeatureServer/0";
    var fmtowerUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/FM_Transmission_Towers/FeatureServer/0";
    var amtowerUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/AM_Transmission_Towers/FeatureServer/0";
    var pagingtowerUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Paging_Transmission_Towers/FeatureServer/0";
    var landprivtowerUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Land_Mobile_Private_Transmission_Towers/FeatureServer/0";
    var landbroadtowerUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Land_Mobile_Broadcast_Towers/FeatureServer/0"    
    var landcommericaltowerUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Land_Mobile_Commercial_Transmission_Towers/FeatureServer/0";
    var microwavetowerUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Microwave_Service_Towers/FeatureServer/0";
    //Safety and Security Lifeline
    var firestationsUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Fire_Stations/FeatureServer/0";
    var hurricaneevacUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Hurricane_Evacuation_Routes/FeatureServer/0"   
    var loceocUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Local_Emergency_Operations_Centers_EOC/FeatureServer/0";
    var policestationsUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Local_Law_Enforcement_Locations/FeatureServer/0";
    var psap911Url = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/PSAP_911_Service_Area_Boundaries/FeatureServer/0";
    
    //Food Water Sheltering Lifeline
    var walmartUrl = "https://services1.arcgis.com/Nt1b6lBKgKX3wost/arcgis/rest/services/Walmart_Locations/FeatureServer/0";
    var publicschoolUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Public_Schools/FeatureServer/0";
    var privateschoolUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Private_Schools/FeatureServer/0";
    var daycareUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Day_Care_Centers/FeatureServer/0";  
    var collegeUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Colleges_and_Universities/FeatureServer/0";
    //Health and Medical Lifeline
    var hospitalsUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Hospitals/FeatureServer/0";
    var nursingUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/NursingHomes/FeatureServer/0";
    var pharmUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Pharmacies/FeatureServer/0";
    var urgentUrl ="https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Urgent_Care_Facilities/FeatureServer/0";
    var vhaUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Veterans_Health_Administration_Medical_Facilities/FeatureServer/0";
    //Hazardous Waste
    var wastewaterplantUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Environmental_Protection_Agency_EPA_Facility_Registry_Service_FRS_Wastewater_Treatment_Plants/FeatureServer/0";
    //Energy
    var genunitUrl = "https://services.arcgis.com/XG15cJAlne2vxtgt/arcgis/rest/services/GeneratingUnits/FeatureServer/0";
    var electric_holding_company_areasUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Electric_Holding_Company_Areas/FeatureServer/0";
    var electriclinesUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Electric_Power_Transmission_Lines/FeatureServer/0";
    var powerplantsUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Environmental_Protection_Agency_EPA_Facility_Registry_Service_FRS_Power_Plants/FeatureServer/0";
    var ngliqpipelineUrl = "https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Natural_Gas_Liquid_Pipelines/FeatureServer/0";
    var markers = L.markerClusterGroup({
      chunkedLoading: true
    });
    var lifelinesGroup = L.layerGroup([]).addTo(map);
    //Boundaries
    var arcntyUrl = "https://services.arcgis.com/XG15cJAlne2vxtgt/arcgis/rest/services/r6_state_cnty_bndy/FeatureServer/1";
    var laparishUrl = "https://services.arcgis.com/XG15cJAlne2vxtgt/arcgis/rest/services/r6_state_cnty_bndy/FeatureServer/2";
    var nmcntyUrl = "https://services.arcgis.com/XG15cJAlne2vxtgt/arcgis/rest/services/r6_state_cnty_bndy/FeatureServer/3";
    var okcntyUrl = "https://services.arcgis.com/XG15cJAlne2vxtgt/arcgis/rest/services/r6_state_cnty_bndy/FeatureServer/4";   
    var txcntyUrl = "https://services.arcgis.com/XG15cJAlne2vxtgt/arcgis/rest/services/r6_state_cnty_bndy/FeatureServer/5";    
    
    var query = L.esri.query({
      url: aoiUrl
    }).where("AOI >= 1").run(function(error, aoi) {

      var aois = L.geoJSON(aoi).setStyle({
        color: 'red',
        fillOpacity: 0.0
      }).addTo(map);
      map.fitBounds(aois.getBounds().pad(0.5));
      L.esri.query({
        url: firestationsUrl
      }).within(aois).run(function(error, firestations, response) {
        var firestationLayer = L.geoJSON(firestations);
        markers.addLayer(firestationLayer);
        document.getElementById("btn1").onclick = function() {
          btn1_()
        };
        function btn1_() {
          markers.addLayer(firestationLayer);
        };
        document.getElementById("btn2").onclick = function() {
          btn2_()
        };
        function btn2_() {
          markers.removeLayer(firestationLayer);
        };
        if (firestations.features.length > 0) {
        document.getElementById('fire_id').innerHTML =
         firestations.features.length;
        }             
      });
      var geojsonMarkerOptions = L.icon({iconUrl:"http://www.clker.com/cliparts/N/v/B/D/u/e/glossy-red-icon-angle-md.png",iconSize:[32,32]});

      L.esri.query({
        url: policestationsUrl
      }).within(aois).run(function(error, policestations, response) {
  
        // var policestationsLayer = L.geoJSON(policestations);

        var policestationsLayer = L.geoJSON(policestations,{
        pointToLayer: function (geojson, latlng) {
          return L.marker(latlng, {
            icon: geojsonMarkerOptions
          });
        }
      });


        markers.addLayer(policestationsLayer);
        document.getElementById("btn3").onclick = function() {
          btn3_()
        };

        function btn3_() {
          markers.addLayer(policestationsLayer);
        };
        document.getElementById("btn4").onclick = function() {
          btn4_()
        };

        function btn4_() {
          markers.removeLayer(policestationsLayer);
        };
        if (policestations.features.length > 0) {
        document.getElementById('police_id').innerHTML =
         policestations.features.length;
        }        
      });
      L.esri.query({
        url: airportsUrl
      }).within(aois).run(function(error, airports, response) {
        var airportsLayer = L.geoJSON(airports);
        markers.addLayer(airportsLayer);
        document.getElementById("btn5").onclick = function() {
          btn5_()
        };

        function btn5_() {
          markers.addLayer(airportsLayer);
        };
        document.getElementById("btn6").onclick = function() {
          btn6_()
        };

        function btn6_() {
          markers.removeLayer(airportsLayer);
        };
        if (airports.features.length > 0) {
        document.getElementById('airports_id').innerHTML =
         airports.features.length;
        }          
      });
      L.esri.query({
        url: cellserviceUrl
      }).intersects(aois).run(function(error, cellservice, response) {
        var cellserviceLayer = L.geoJSON(cellservice).setStyle({
          fillColor: 'green',
          color: 'green',
          fillOpacity: 0.075
        });
        // lifelinesGroup.addLayer(cellserviceLayer);
        document.getElementById("btn7").onclick = function() {
          btn7_()
        };

        function btn7_() {
          lifelinesGroup.addLayer(cellserviceLayer);
        };
        document.getElementById("btn8").onclick = function() {
          btn8_()
        };

        function btn8_() {
          lifelinesGroup.removeLayer(cellserviceLayer);
        };
      });
      L.esri.query({
        url: antennaUrl
      }).within(aois).run(function(error, antenna, response) {
        var antennaLayer = L.geoJSON(antenna);
        markers.addLayer(antennaLayer);
        document.getElementById("btn9").onclick = function() {
          btn9_()
        };

        function btn9_() {
          markers.addLayer(antennaLayer);
        };
        document.getElementById("btn10").onclick = function() {
          btn10_()
        };

        function btn10_() {
          markers.removeLayer(antennaLayer);
        };
        if (antenna.features.length > 0) {
        document.getElementById('antenna_id').innerHTML =
        antenna.features.length;
        }              
      });
      L.esri.query({
        url: psap911Url
      }).intersects(aois).run(function(error, psap911, response) {
        var psap911Layer = L.geoJSON(psap911).setStyle({
          fillColor: 'purple',
          color: 'purple',
          fillOpacity: 0.175
        });
        // lifelinesGroup.addLayer(psap911Layer);
        document.getElementById("btn11").onclick = function() {
          btn11_()
        };

        function btn11_() {
          lifelinesGroup.addLayer(psap911Layer);
        };
        document.getElementById("btn12").onclick = function() {
          btn12_()
        };

        function btn12_() {
          lifelinesGroup.removeLayer(psap911Layer);
        };
      });
      L.esri.query({
        url: railroadUrl
      }).intersects(aois).run(function(error, railroad, response) {
        var railroadLayer = L.geoJSON(railroad).setStyle({
          color: 'black'
        });
        // lifelinesGroup.addLayer(railroadLayer);
        document.getElementById("btn13").onclick = function() {
          btn13_()
        };

        function btn13_() {
          lifelinesGroup.addLayer(railroadLayer);
        };
        document.getElementById("btn14").onclick = function() {
          btn14_()
        };

        function btn14_() {
          lifelinesGroup.removeLayer(railroadLayer);
        };
        if (railroad.features.length > 0) {
        document.getElementById('railroad_id').innerHTML =
        railroad.features[0].properties.MILES;
        }        

      });
      L.esri.query({
        url: railstationUrl
      }).within(aois).run(function(error, railstation, response) {
        var railstationLayer = L.geoJSON(railstation);
        markers.addLayer(railstationLayer);
        document.getElementById("btn15").onclick = function() {
          btn15_()
        };

        function btn15_() {
          markers.addLayer(railstationLayer);
        };
        document.getElementById("btn16").onclick = function() {
          btn16_()
        };

        function btn16_() {
          markers.removeLayer(railstationLayer);
        };
        if (railstation.features.length > 0) {
        document.getElementById('railstation_id').innerHTML =
         railstation.features.length;
        }           
      });
      L.esri.query({
        url: nbiUrl
      }).within(aois).run(function(error, nbi, response) {
        var nbiLayer = L.geoJSON(nbi);
        markers.addLayer(nbiLayer);
        document.getElementById("btn17").onclick = function() {
          btn17_()
        };

        function btn17_() {
          markers.addLayer(nbiLayer);
        };
        document.getElementById("btn18").onclick = function() {
          btn18_()
        };

        function btn18_() {
          markers.removeLayer(nbiLayer);
        };
        if (nbi.features.length > 0) {
        document.getElementById('nbi_id').innerHTML =
         nbi.features.length;
        }       
      });
      L.esri.query({
        url: electric_holding_company_areasUrl
      }).intersects(aois).run(function(error, ehca, response) {
        var ehcaLayer = L.geoJSON(ehca).setStyle({
          fillColor: 'blue',
          color: 'blue',
          fillOpacity: 0.175
        });
        // lifelinesGroup.addLayer(ehcaLayer);
        document.getElementById("btn19").onclick = function() {
          btn19_()
        };

        function btn19_() {
          lifelinesGroup.addLayer(ehcaLayer);
        };
        document.getElementById("btn20").onclick = function() {
          btn20_()
        };

        function btn20_() {
          lifelinesGroup.removeLayer(ehcaLayer);
        };
      });
      L.esri.query({
        url: celltowerUrl
      }).within(aois).run(function(error, celltower, response) {
        var celltowerLayer = L.geoJSON(celltower);
        markers.addLayer(celltowerLayer);
        document.getElementById("btn21").onclick = function() {
          btn21_()
        };

        function btn21_() {
          markers.addLayer(celltowerLayer);
        };
        document.getElementById("btn22").onclick = function() {
          btn22_()
        };

        function btn22_() {
          markers.removeLayer(celltowerLayer);
        };
        if (celltower.features.length > 0) {
        document.getElementById('celltower_id').innerHTML =
         celltower.features.length;
        }             
      });
      L.esri.query({
        url: wastewaterplantUrl
      }).within(aois).run(function(error, wastewaterplant, response) {
        var wastewaterplantLayer = L.geoJSON(wastewaterplant);
        markers.addLayer(wastewaterplantLayer);
        document.getElementById("btn23").onclick = function() {
          btn23_()
        };

        function btn23_() {
          markers.addLayer(wastewaterplantLayer);
        };
        document.getElementById("btn24").onclick = function() {
          btn24_()
        };

        function btn24_() {
          markers.removeLayer(wastewaterplantLayer);
        };
        if (wastewaterplant.features.length > 0) {
        document.getElementById('wastewaterplant_id').innerHTML =
         wastewaterplant.features.length;
        }        
      });
      L.esri.query({
        url: trafficUrl
      }).within(aois).run(function(error, traffic, response) {
        var trafficLayer = L.geoJSON(traffic);
        markers.addLayer(trafficLayer);
        document.getElementById("btn25").onclick = function() {
          btn25_()
        };

        function btn25_() {
          markers.addLayer(trafficLayer);
        };
        document.getElementById("btn26").onclick = function() {
          btn26_()
        };

        function btn26_() {
          markers.removeLayer(trafficLayer);
        };
      });     
      L.esri.query({
        url: portUrl
      }).within(aois).run(function(error, port, response) {
        var portLayer = L.geoJSON(port);
        markers.addLayer(portLayer);
        document.getElementById("btn27").onclick = function() {
          btn27_()
        };

        function btn27_() {
          markers.addLayer(portLayer);
        };
        document.getElementById("btn28").onclick = function() {
          btn28_()
        };

        function btn28_() {
          markers.removeLayer(portLayer);
        };
        if (port.features.length > 0) {
        document.getElementById('port_id').innerHTML =
         port.features.length;
        }           
      });  
      L.esri.query({
        url: walmartUrl
      }).within(aois).run(function(error, walmart, response) {
        var walmartLayer = L.geoJSON(walmart);
        markers.addLayer(walmartLayer);
        document.getElementById("btn29").onclick = function() {
          btn29_()
        };

        function btn29_() {
          markers.addLayer(walmartLayer);
        };
        document.getElementById("btn30").onclick = function() {
          btn30_()
        };

        function btn30_() {
          markers.removeLayer(walmartLayer);
        };
        if (walmart.features.length > 0) {
        document.getElementById('walmart_id').innerHTML =
         walmart.features.length;
        }           
      });  
      L.esri.query({
        url: hospitalsUrl
      }).within(aois).run(function(error, hospitals, response) {
        var hospitalsLayer = L.geoJSON(hospitals);
        markers.addLayer(hospitalsLayer);
        document.getElementById("btn31").onclick = function() {
          btn31_()
        };

        function btn31_() {
          markers.addLayer(hospitalsLayer);
        };
        document.getElementById("btn32").onclick = function() {
          btn32_()
        };

        function btn32_() {
          markers.removeLayer(hospitalsLayer);
        };
        if (hospitals.features.length > 0) {
        document.getElementById('hospitals_id').innerHTML =
         hospitals.features.length;
        }             
      });  
      L.esri.query({
        url: vhaUrl
      }).within(aois).run(function(error, vha, response) {
        var vhaLayer = L.geoJSON(vha);
        markers.addLayer(vhaLayer);
        document.getElementById("btn33").onclick = function() {
          btn33_()
        };

        function btn33_() {
          markers.addLayer(vhaLayer);
        };
        document.getElementById("btn34").onclick = function() {
          btn34_()
        };

        function btn34_() {
          markers.removeLayer(vhaLayer);
        };
        if (vha.features.length > 0) {
        document.getElementById('vha_id').innerHTML =
         vha.features.length;
        }             
      }); 
      L.esri.query({
        url: genunitUrl
      }).within(aois).run(function(error, genunit, response) {
        var genunitLayer = L.geoJSON(genunit);
        markers.addLayer(genunitLayer);
        document.getElementById("btn35").onclick = function() {
          btn35_()
        };

        function btn35_() {
          markers.addLayer(genunitLayer);
        };
        document.getElementById("btn36").onclick = function() {
          btn36_()
        };

        function btn36_() {
          markers.removeLayer(genunitLayer);
        };
        if (genunit.features.length > 0) {
        document.getElementById('genunit_id').innerHTML =
         genunit.features.length;
        }                  
      });       
      L.esri.query({
        url: loceocUrl
      }).within(aois).run(function(error, loceoc, response) {
        var loceocLayer = L.geoJSON(loceoc);
        markers.addLayer(loceocLayer);
        document.getElementById("btn37").onclick = function() {
          btn37_()
        };

        function btn37_() {
          markers.addLayer(loceocLayer);
        };
        document.getElementById("btn38").onclick = function() {
          btn38_()
        };

        function btn38_() {
          markers.removeLayer(loceocLayer);
        };
        if (loceoc.features.length > 0) {
        document.getElementById('loceoc_id').innerHTML =
         loceoc.features.length;
        }            
      }); 
      L.esri.query({
        url: hurricaneevacUrl
      }).within(aois).run(function(error, hurricaneevac, response) {
        var hurricaneevacLayer = L.geoJSON(hurricaneevac);
        lifelinesGroup.addLayer(hurricaneevacLayer);
        document.getElementById("btn39").onclick = function() {
          btn39_()
        };

        function btn39_() {
          lifelinesGroup.addLayer(hurricaneevacLayer);
        };
        document.getElementById("btn40").onclick = function() {
          btn40_()
        };

        function btn40_() {
          lifelinesGroup.removeLayer(hurricaneevacLayer);
        };
      });  
      L.esri.query({
        url: tvbroadcastUrl
      }).within(aois).run(function(error, tvbroadcast, response) {
        var tvbroadcastLayer = L.geoJSON(tvbroadcast);
        lifelinesGroup.addLayer(tvbroadcastLayer);
        document.getElementById("btn41").onclick = function() {
          btn41_()
        };

        function btn41_() {
          lifelinesGroup.addLayer(tvbroadcastLayer);
        };
        document.getElementById("btn42").onclick = function() {
          btn42_()
        };

        function btn42_() {
          lifelinesGroup.removeLayer(tvbroadcastLayer);
        };
      });          
      L.esri.query({
        url: fmtowerUrl
      }).within(aois).run(function(error, fmtower, response) {
        var fmtowerLayer = L.geoJSON(fmtower);
        markers.addLayer(fmtowerLayer);
        document.getElementById("btn43").onclick = function() {
          btn43_()
        };

        function btn43_() {
          markers.addLayer(fmtowerLayer);
        };
        document.getElementById("btn44").onclick = function() {
          btn44_()
        };

        function btn44_() {
          markers.removeLayer(fmtowerLayer);
        };
        if (fmtower.features.length > 0) {
        document.getElementById('fmtower_id').innerHTML =
         fmtower.features.length;
        }           
      });   
      L.esri.query({
        url: amtowerUrl
      }).within(aois).run(function(error, amtower, response) {
        var amtowerLayer = L.geoJSON(amtower);
        markers.addLayer(amtowerLayer);
        document.getElementById("btn45").onclick = function() {
          btn45_()
        };

        function btn45_() {
          markers.addLayer(amtowerLayer);
        };
        document.getElementById("btn46").onclick = function() {
          btn46_()
        };

        function btn46_() {
          markers.removeLayer(amtowerLayer);
        };
        if (amtower.features.length > 0) {
        document.getElementById('amtower_id').innerHTML =
         amtower.features.length;
        }              
      });  
      L.esri.query({
        url: pagingtowerUrl
      }).within(aois).run(function(error, pagingtower, response) {
        var pagingtowerLayer = L.geoJSON(pagingtower);
        markers.addLayer(pagingtowerLayer);
        document.getElementById("btn47").onclick = function() {
          btn47_()
        };

        function btn47_() {
          markers.addLayer(pagingtowerLayer);
        };
        document.getElementById("btn48").onclick = function() {
          btn48_()
        };

        function btn48_() {
          markers.removeLayer(pagingtowerLayer);
        };
        if (pagingtower.features.length > 0) {
        document.getElementById('pagingtower_id').innerHTML =
         pagingtower.features.length;
        }             
      });  
      L.esri.query({
        url: landprivtowerUrl
      }).within(aois).run(function(error, landprivtower, response) {
        var landprivtowerLayer = L.geoJSON(landprivtower);
        markers.addLayer(landprivtowerLayer);
        document.getElementById("btn49").onclick = function() {
          btn49_()
        };

        function btn49_() {
          markers.addLayer(landprivtowerLayer);
        };
        document.getElementById("btn50").onclick = function() {
          btn50_()
        };

        function btn50_() {
          markers.removeLayer(landprivtowerLayer);
        };
        if (landprivtower.features.length > 0) {
        document.getElementById('landprivtower_id').innerHTML =
         landprivtower.features.length;
        }             
      });     
      L.esri.query({
        url: landbroadtowerUrl
      }).within(aois).run(function(error, landbroadtower, response) {
        var landbroadtowerLayer = L.geoJSON(landbroadtower);
        markers.addLayer(landbroadtowerLayer);
        document.getElementById("btn51").onclick = function() {
          btn51_()
        };

        function btn51_() {
          markers.addLayer(landbroadtowerLayer);
        };
        document.getElementById("btn52").onclick = function() {
          btn52_()
        };

        function btn52_() {
          markers.removeLayer(landbroadtowerLayer);
        };
      });    
      L.esri.query({
        url: landcommericaltowerUrl
      }).within(aois).run(function(error, landcommericaltower, response) {
        var landcommericaltowerLayer = L.geoJSON(landcommericaltower);
        markers.addLayer(landcommericaltowerLayer);
        document.getElementById("btn53").onclick = function() {
          btn53_()
        };

        function btn53_() {
          markers.addLayer(landcommericaltowerLayer);
        };
        document.getElementById("btn54").onclick = function() {
          btn54_()
        };

        function btn54_() {
          markers.removeLayer(landcommericaltowerLayer);
        };
        if (landcommericaltower.features.length > 0) {
        document.getElementById('landcom_id').innerHTML =
         landcommericaltower.features.length;
        }          
      });   
      L.esri.query({
        url: microwavetowerUrl
      }).within(aois).run(function(error, microwavetower, response) {
        var microwavetowerLayer = L.geoJSON(microwavetower);
        markers.addLayer(microwavetowerLayer);
        document.getElementById("btn55").onclick = function() {
          btn55_()
        };

        function btn55_() {
          markers.addLayer(microwavetowerLayer);
        };
        document.getElementById("btn56").onclick = function() {
          btn56_()
        };

        function btn56_() {
          markers.removeLayer(microwavetowerLayer);
        };
        if (microwavetower.features.length > 0) {
        document.getElementById('microwave_id').innerHTML =
         microwavetower.features.length;
        }          
      });  
      L.esri.query({
        url: publicschoolUrl
      }).within(aois).run(function(error, publicschool, response) {
        var publicschoolLayer = L.geoJSON(publicschool);
        markers.addLayer(publicschoolLayer);
        document.getElementById("btn57").onclick = function() {
          btn57_()
        };

        function btn57_() {
          markers.addLayer(publicschoolLayer);
        };
        document.getElementById("btn58").onclick = function() {
          btn58_()
        };

        function btn58_() {
          markers.removeLayer(publicshoolLayer);
        };
        if (publicschool.features.length > 0) {
        document.getElementById('publicshools_id').innerHTML =
         publicschool.features.length;
        }          
      });   
      L.esri.query({
        url: privateschoolUrl
      }).within(aois).run(function(error, privateshool, response) {
        var privateshoolLayer = L.geoJSON(privateshool);
        markers.addLayer(privateshoolLayer);
        document.getElementById("btn59").onclick = function() {
          btn59_()
        };

        function btn59_() {
          markers.addLayer(privateshoolLayer);
        };
        document.getElementById("btn60").onclick = function() {
          btn60_()
        };

        function btn60_() {
          markers.removeLayer(privateshoolLayer);
        };
      });     
      L.esri.query({
        url: daycareUrl
      }).within(aois).run(function(error, daycare, response) {
        var daycareLayer = L.geoJSON(daycare);
        markers.addLayer(daycareLayer);
        document.getElementById("btn61").onclick = function() {
          btn61_()
        };

        function btn61_() {
          markers.addLayer(daycareLayer);
        };
        document.getElementById("btn62").onclick = function() {
          btn62_()
        };

        function btn62_() {
          markers.removeLayer(daycareLayer);
        };
        if (daycare.features.length > 0) {
        document.getElementById('daycare_id').innerHTML =
         daycare.features.length;
        }          
      });   
      L.esri.query({
        url: collegeUrl
      }).within(aois).run(function(error, college, response) {
        var collegeLayer = L.geoJSON(college);
        markers.addLayer(collegeLayer);
        document.getElementById("btn63").onclick = function() {
          btn63_()
        };

        function btn63_() {
          markers.addLayer(collegeLayer);
        };
        document.getElementById("btn64").onclick = function() {
          btn64_()
        };

        function btn64_() {
          markers.removeLayer(collegeLayer);
        };
        if (college.features.length > 0) {
        document.getElementById('college_id').innerHTML =
         college.features.length;
        }         
      });   
      L.esri.query({
        url: pharmUrl
      }).within(aois).run(function(error, pharm, response) {
        var pharmLayer = L.geoJSON(pharm);
        markers.addLayer(pharmLayer);
        document.getElementById("btn65").onclick = function() {
          btn65_()
        };

        function btn65_() {
          markers.addLayer(pharmLayer);
        };
        document.getElementById("btn66").onclick = function() {
          btn66_()
        };

        function btn66_() {
          markers.removeLayer(pharmLayer);
        };
        if (pharm.features.length > 0) {
        document.getElementById('pharm_id').innerHTML =
         pharm.features.length;
        }          
      });   
      L.esri.query({
        url: nursingUrl
      }).within(aois).run(function(error, nursing, response) {
        var nursingLayer = L.geoJSON(nursing);
        markers.addLayer(nursingLayer);
        document.getElementById("btn67").onclick = function() {
          btn67_()
        };

        function btn67_() {
          markers.addLayer(nursingLayer);
        };
        document.getElementById("btn68").onclick = function() {
          btn68_()
        };

        function btn68_() {
          markers.removeLayer(nursingLayer);
        };
        if (nursing.features.length > 0) {
        document.getElementById('nursing_id').innerHTML =
         nursing.features.length;
        }            
      });    
      L.esri.query({
        url: urgentUrl
      }).within(aois).run(function(error, urgent, response) {
        var urgentLayer = L.geoJSON(urgent);
        markers.addLayer(urgentLayer);
        document.getElementById("btn69").onclick = function() {
          btn69_()
        };

        function btn69_() {
          markers.addLayer(urgentLayer);
        };
        document.getElementById("btn70").onclick = function() {
          btn70_()
        };

        function btn70_() {
          markers.removeLayer(urgentLayer);
        };
        if (urgent.features.length > 0) {
        document.getElementById('urgent_id').innerHTML =
         urgent.features.length;
        }         
      });     
      L.esri.query({
        url: powerplantsUrl
      }).within(aois).run(function(error, powerplants, response) {
        var powerplantsLayer = L.geoJSON(powerplants);
        markers.addLayer(powerplantsLayer);
        document.getElementById("btn71").onclick = function() {
          btn71_()
        };

        function btn71_() {
          markers.addLayer(powerplantsLayer);
        };
        document.getElementById("btn72").onclick = function() {
          btn72_()
        };

        function btn72_() {
          markers.removeLayer(powerplantsLayer);
        };
        if (powerplants.features.length > 0) {
        document.getElementById('powerplants_id').innerHTML =
         powerplants.features.length;
        }        
      });  
      L.esri.query({
        url: ngliqpipelineUrl
      }).within(aois).run(function(error, ngliqpipeline, response) {
        var ngliqpipelineLayer = L.geoJSON(ngliqpipeline).setStyle({color:'purple'});
        lifelinesGroup.addLayer(ngliqpipelineLayer);
        document.getElementById("btn73").onclick = function() {
          btn73_()
        };

        function btn73_() {
          lifelinesGroup.addLayer(ngliqpipelineLayer);
        };
        document.getElementById("btn74").onclick = function() {
          btn74_()
        };

        function btn74_() {
          lifelinesGroup.removeLayer(ngliqpipelineLayer);
        };
      });
      L.esri.query({
        url: electriclinesUrl
      }).within(aois).run(function(error, electriclines, response) {
        var electriclinesLayer = L.geoJSON(electriclines).setStyle({color:'green'});
        lifelinesGroup.addLayer(electriclinesLayer);
        document.getElementById("btn75").onclick = function() {
          btn75_()
        };

        function btn75_() {
          lifelinesGroup.addLayer(electriclinesLayer);
        };
        document.getElementById("btn76").onclick = function() {
          btn76_()
        };

        function btn76_() {
          lifelinesGroup.removeLayer(electriclinesLayer);
        };
      }); 
      L.esri.query({
        url: arcntyUrl
      }).intersects(aois).run(function(error, arcnty, response) {
        var arcntyLayer = L.geoJSON(arcnty).setStyle({color:'black',fillOpacity:0.0,dashArray:3,});
        lifelinesGroup.addLayer(arcntyLayer);

        arcntyLayer.eachLayer(function(layer) {
		var arcntyTooltip = layer;
		arcntyTooltip.bindTooltip(layer.feature.properties.NAME10,{className:'cntyClass',permanent: true, offset: [0, 0], sticky: true, direction:'center'})
	    });
        document.getElementById("btn77").onclick = function() {
          btn77_()
        };

        function btn77_() {
          lifelinesGroup.addLayer(arcntyLayer);
        };
        document.getElementById("btn78").onclick = function() {
          btn78_()
        };

        function btn78_() {
          lifelinesGroup.removeLayer(arcntyLayer);
        }
        if (arcnty.features.length > 0) {
        document.getElementById('arcnty_id').innerHTML =
         arcnty.features.length;
        }            
      }); 
      L.esri.query({
        url: laparishUrl
      }).intersects(aois).run(function(error, laparish, response) {
        var laparishLayer = L.geoJSON(laparish).setStyle({color:'black',fillOpacity:0.0,dashArray:5});
        lifelinesGroup.addLayer(laparishLayer);

        laparishLayer.eachLayer(function(layer) {
		var laparishTooltip = layer;
		laparishTooltip.bindTooltip(layer.feature.properties.NAME10,{className:'cntyClass',permanent: true, offset: [0, 0], sticky: true, direction:'center'})
	    });        
        document.getElementById("btn79").onclick = function() {
          btn79_()
        };

        function btn79_() {
          lifelinesGroup.addLayer(laparishLayer);
        };
        document.getElementById("btn80").onclick = function() {
          btn80_()
        };

        function btn80_() {
          lifelinesGroup.removeLayer(laparishLayer);
        };
        if (laparish.features.length > 0) {
        document.getElementById('laparish_id').innerHTML =
         laparish.features.length;
        }           
      });    
      L.esri.query({
        url: nmcntyUrl
      }).intersects(aois).run(function(error, nmcnty, response) {
        var nmcntyLayer = L.geoJSON(nmcnty).setStyle({color:'black',fillOpacity:0.0,dashArray:5});
        lifelinesGroup.addLayer(nmcntyLayer);
        nmcntyLayer.eachLayer(function(layer) {
		var nmcntyTooltip = layer;
		nmcntyTooltip.bindTooltip(layer.feature.properties.NAME10,{className:'cntyClass',permanent: true, offset: [0, 0], sticky: true, direction:'center'})
	    });

        document.getElementById("btn81").onclick = function() {
          btn81_()
        };

        function btn81_() {
          lifelinesGroup.addLayer(nmcntyLayer);
        };
        document.getElementById("btn82").onclick = function() {
          btn82_()
        };

        function btn82_() {
          lifelinesGroup.removeLayer(nmcntyLayer);
        };
        if (nmcnty.features.length > 0) {
        document.getElementById('nmcnty_id').innerHTML =
         nmcnty.features.length;
        }           
      });    
      L.esri.query({
        url: okcntyUrl
      }).intersects(aois).run(function(error, okcnty, response) {
        var okcntyLayer = L.geoJSON(okcnty).setStyle({color:'black',fillOpacity:0.0,dashArray:5});
        lifelinesGroup.addLayer(okcntyLayer);
        okcntyLayer.eachLayer(function(layer) {
		var okcntyTooltip = layer;
		okcntyTooltip.bindTooltip(layer.feature.properties.NAME10,{className:'cntyClass',permanent: true, offset: [0, 0], sticky: true, direction:'center'})
	    });        
        document.getElementById("btn83").onclick = function() {
          btn83_()
        };

        function btn83_() {
          lifelinesGroup.addLayer(okcntyLayer);
        };
        document.getElementById("btn84").onclick = function() {
          btn84_()
        };

        function btn84_() {
          lifelinesGroup.removeLayer(okcntyLayer);
        };
        if (okcnty.features.length > 0) {
        document.getElementById('okcnty_id').innerHTML =
         okcnty.features.length;
        }           
      });
      L.esri.query({
        url: txcntyUrl
      }).intersects(aois).run(function(error, txcnty, response) {
        var txcntyLayer = L.geoJSON(txcnty).setStyle({color:'black',fillOpacity:0.0,dashArray:5});
        lifelinesGroup.addLayer(txcntyLayer);
        txcntyLayer.eachLayer(function(layer) {
		var txcntyTooltip = layer;
		txcntyTooltip.bindTooltip(layer.feature.properties.NAME10,{className:'cntyClass',permanent: true, offset: [0, 0], sticky: true, direction:'center'})
	    });        
        document.getElementById("btn85").onclick = function() {
          btn85_()
        };

        function btn85_() {
          lifelinesGroup.addLayer(txcntyLayer);
        };
        document.getElementById("btn86").onclick = function() {
          btn86_()
        };

        function btn86_() {
          lifelinesGroup.removeLayer(txcntyLayer);
        };
        if (txcnty.features.length > 0) {
        document.getElementById('txcnty_id').innerHTML =
         txcnty.features.length;
        }           
      });      
      // L.esri.query({
      //   url: crimeindexUrl
      // }).intersects(aois).run(function(error, crimeindex, response) {
      //   var crimeindexLayer = L.geoJSON(crimeindex).setStyle({
      //     fillColor: 'blue',
      //     color: 'blue',
      //     fillOpacity: 0.175
      //   });
      //   lifelinesGroup.addLayer(crimeindexLayer);
      //   document.getElementById("btn19").onclick = function() {
      //     btn19_()
      //   };

      //   function btn19_() {
      //     lifelinesGroup.addLayer(ehcaLayer);
      //   };
      //   document.getElementById("btn20").onclick = function() {
      //     btn20_()
      //   };

      //   function btn20_() {
      //     lifelinesGroup.removeLayer(ehcaLayer);
      //   };
      // });      
      
      
      // L.esri.query({
      //   url: genunitUrl
      // }).within(aois).run(function(error, genunit, response) {
      //   var genunitLayer = L.geoJSON(genunit);
      //   markers.addLayer(genunitLayer);
      //   document.getElementById("btn35").onclick = function() {
      //     btn35_()
      //   };

      //   function btn35_() {
      //     markers.addLayer(genunitLayer);
      //   };
      //   document.getElementById("btn36").onclick = function() {
      //     btn36_()
      //   };

      //   function btn36_() {
      //     markers.removeLayer(genunitLayer);
      //   };
      // });          
    });
   

    lifelinesGroup.addLayer(markers);
    
      document.getElementById("btnaddAll").onclick = function() {btnaddAll_()};
            function btnaddAll_ (){
                  map.addLayer(lifelinesGroup);
                  lifelinesGroup.addLayer(genunitLayer);
                  };
      document.getElementById("btnremoveAll").onclick = function() {btnremoveAll_()};
            function btnremoveAll_ (){
                  map.removeLayer(lifelinesGroup);
                  
                  };
          document.getElementById("btnaddAll").onclick = function() {btnaddAll_()};
                function btnaddAll_ (){
                      map.addLayer(lifelinesGroup);
                      };
          document.getElementById("btnremoveAll").onclick = function() {btnremoveAll_()};
                function btnremoveAll_ (){
                      map.removeLayer(lifelinesGroup);
                      };  

    //  document.getElementById("btn1").onclick = function() {btn1_()};
    // function btn1_ (){
    //   if (markers.hasLayer(fireStationLayer)) {
    //       markers.removeLayer(fireStationLayer);
    //   } else {
    //       markers.addLayer(fireStationLayer);
    //   } 
    // };



    // var baseMap = {}; var overLays = {"Markers":markers,};
    // L.control.layers(null,overLays).addTo(map);
 

$(document).ready(function(){
  $('#dropDown').click(function(){
    $('.drop-down').toggleClass('drop-down--active');
  });
});
</script>
<a target="_blank" href="https://fema.maps.arcgis.com/home/webmap/viewer.html?webmap=a56f125f9a3040b2a41f56512700adbd"><button style="bottom:0">Edits</button></a>
</body>
</html>
