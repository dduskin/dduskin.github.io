<!DOCTYPE html>
<html>
<head>
    <title>Example</title>

  <link data-require="leaflet@1.0.3" data-semver="1.0.3" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.3/leaflet.css" />
  <script data-require="leaflet@1.0.3" data-semver="1.0.3" src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.3/leaflet.js"></script>
  <script src="src/mapbox.omnivore.js"></script>

<style>
    body {
      margin: 0;
      padding: 0;
    }
    
    #map {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 100%;
    }
</style>
</head>
<body>
<div id="map"></div>

<script>
var map = L.map('map',{
	center: [30.059038, -96.24875],
	zoom: [7],
    attributionControl: false,
});
var googleHybrid = L.tileLayer('http://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}', {
	maxZoom: 20,
	attribution: '&copy; <a href="http://www.google.com">Google</a>',
	subdomains: ['mt0', 'mt1', 'mt2', 'mt3']
});
var CartoDB_Positron = L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {
	attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
	subdomains: 'abcd',
	maxZoom: 19
}).addTo(map);

var nhdStyle = L.geoJson(null, {
    // http://leafletjs.com/reference.html#geojson-style
    style: function(feature) {
        return { color: 'steelblue' };
    }
});
var huc12Style = L.geoJson(null, {
    // http://leafletjs.com/reference.html#geojson-style
    style: function(feature) {
        return { fillColor: 'steelblue' };
    }
});
var huc12Layer = omnivore.topojson('hu12_harrison_cnty.json', null, huc12Style)
    .on('ready', function() {
       // map.fitBounds(huc12Layer.getBounds());

        // After the 'ready' event fires, the GeoJSON contents are accessible
        // and you can iterate through layers to bind custom popups.
        huc12Layer.eachLayer(function(layer) {
          var huc12lyr = layer;
            // See the `.bindPopup` documentation for full details. This
            // dataset has a property called `name`: your dataset might not,
            // so inspect it and customize to taste.
            huc12lyr.bindTooltip(layer.feature.properties.GNIS_Name, {permanent: false});
        });
    }).addTo(map);

		var baseLayers = {
			"Carto DB": CartoDB_Positron,
			"Google": googleHybrid,
		};
		var overlayMaps = {
	        "Harris County Texas Streams": nhdLayer,

		};
var nhdLayer = omnivore.topojson('nhd.json', null, nhdStyle)
    .on('ready', function() {
        map.fitBounds(nhdLayer.getBounds());

        // After the 'ready' event fires, the GeoJSON contents are accessible
        // and you can iterate through layers to bind custom popups.
        nhdLayer.eachLayer(function(layer) {
          var nhdlyr = layer;
            // See the `.bindPopup` documentation for full details. This
            // dataset has a property called `name`: your dataset might not,
            // so inspect it and customize to taste.
            nhdlyr.bindTooltip(layer.feature.properties.GNIS_Name, {permanent: false});
        });
    }).addTo(map);

		var baseLayers = {
			"Carto DB": CartoDB_Positron,
			"Google": googleHybrid,
		};
		var overlayMaps = {
	        "Harris County Texas Streams": nhdLayer,
	        "HUC 12":huc12Layer,

		};
    L.control.layers(baseLayers, overlayMaps, { collasped: true, position: 'topleft'}).addTo(map);


</script>
</body>
</html>
